<div class="overlay" *ngIf="IsWait">
    <div class="center">
        <mat-progress-spinner diameter=100 mode="indeterminate">
        </mat-progress-spinner>
    </div>
</div>
<mat-grid-list [cols]="breakpoint" rowHeight="3:1" [gutterSize]="'10px'" (window:resize)="onResize($event)">
    <mat-grid-tile [colspan]="1" [rowspan]="3">
        <mat-card (click)="capture()">
            <mat-card-header>
                <mat-card-subtitle>
                    <mat-chip selected="true" (click)="compareImages()" class="pointer">Compare images</mat-chip>
                </mat-card-subtitle>
            </mat-card-header>
            <div class="p-1">
                <video #video class="vid" autoplay muted></video>
            </div>
            <mat-card-content>
                <p>
                    Allow the browser to use your camera and click on video to capture image or press buttons below, or either click on image holders on the left/below
                </p>
            </mat-card-content>
            <mat-card-actions>
                <mat-chip-list>
                    <mat-chip color="accent" selected="true" (click)="captureImageFirst()" class="pointer">Capture first image from camera</mat-chip>
                    <mat-chip color="accent" selected="true" (click)="captureImageSecond()" class="pointer">Capture second image from camera</mat-chip>
                </mat-chip-list>
            </mat-card-actions>
        </mat-card>
    </mat-grid-tile>
    <mat-grid-tile [colspan]="1" [rowspan]="2">
        <mat-card>
            <mat-card-header>
                <mat-icon class="close-right" (click)="clearFirst()">cancel</mat-icon>
                <mat-card-subtitle>First Image
                </mat-card-subtitle>
            </mat-card-header>
            <div class="p-1" (click)="captureImageFirst()">
                <canvas #canvasLast class="vid"></canvas>
            </div>
            <mat-card-content (click)="captureImageFirst()"> </mat-card-content>
            <mat-card-actions>
                <mat-chip-list>
                    <mat-chip color="accent" selected="true" (click)="captureImageFirst()" class="pointer">Capture image from camera</mat-chip>
                    <mat-chip color="accent" selected="true" class="pointer">
                        <app-file-upload #first (complete)="onFileCompleteFirst($event)"></app-file-upload>
                    </mat-chip>
                </mat-chip-list>
            </mat-card-actions>
        </mat-card>
    </mat-grid-tile>
    <mat-grid-tile [colspan]="1" [rowspan]="2">
        <mat-card>
            <mat-card-header>
                <mat-icon class="close-right" (click)="clearSecond()">cancel</mat-icon>
                <mat-card-subtitle>Second Image
                </mat-card-subtitle>
            </mat-card-header>
            <div class="p-1" (click)="captureImageSecond()">
                <canvas #canvasPrior class="vid"></canvas>
            </div>
            <mat-card-content (click)="captureImageSecond()"> </mat-card-content>
            <mat-card-actions>
                <mat-chip-list>
                    <mat-chip color="accent" selected="true" (click)="captureImageSecond()" class="pointer">Capture image from camera</mat-chip>
                    <mat-chip color="accent" selected="true" class="pointer">
                        <app-file-upload (complete)="onFileCompleteSecond($event)" #second></app-file-upload>
                    </mat-chip>
                </mat-chip-list>
            </mat-card-actions>
        </mat-card>
    </mat-grid-tile>
</mat-grid-list>